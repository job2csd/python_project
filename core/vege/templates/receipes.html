{% extends "base.html" %} {% block start %}

<div class="container mt-6">
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
  />
  <br/>
  <form class="col-6 mx-auto card p-3 shadow-lg" method="post" enctype="multipart/form-data" name="addReceipe">
        {% csrf_token %}
        <center><h2>Add Receipe</h2></center><hr/>
    <div class="form-group">
      <label for="exampleInputEmail1">Receipe Name</label>
      <input type="text" name="receipe_name" required class="form-control />
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Receipe Description</label>
      <textarea class="form-control" rows="3" required name="receipe_description"></textarea>
    </div>
    <div class="form-group">
      <label for="exampleInputPassword1">Receipe Image</label>
      <input type="file" name="receipe_image" class="form-control" />
    </div>
    <button type="submit" class="btn btn-success">Add Receipe</button>
  </form>
  <div class="mt-5">
    <div class="mx-auto col-6">
      <form class="card p-3 shadow-lg">
          <label for="exampleInputEmail1">Search Food</label>
          <input type="text" name="search" class="form-control" value="{{search}}" /><br/>
          <div class="col-6 p-0">
          <button type="submit" class="btn btn-primary btn-sm">Search</button>
          <a href="/receipes/" class="btn btn-info btn-sm">Reset</a>
            </div>
        </div>
      </form>
    </div>
  </div>


  <br/>
  <h2 class="text-center">Receipe List</h2>
  <table class="table" border="1" width="90%">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Receipe Name</th>
      <th scope="col">Receipe Description</th>
      <th scope="col">Receipe Image</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for receipe in receipes %}
    <tr>
      <th scope="row">{{forloop.counter}}</th>
      <td>{{receipe.receipe_name}}</td>
      <td>{{receipe.receipe_description}}</td>
      <td><img src="/media/{{receipe.receipe_image}}" alt="Receipe Image" width="100"></td>
      <td width="170"><a href="/delete_receipe/{{receipe.id}}/" class="btn btn-danger btn-sm">Delete</a> &nbsp;&nbsp;|&nbsp;&nbsp;
        <a href="/update_receipe/{{receipe.id}}/" class="btn btn-primary btn-sm">Edit</a>
      </td>
    </tr>
        {% empty %}
    <tr> <td colspan="4">No data Found</td></tr>
        {% endfor %}
  </tbody>
</table>
</div>
{% endblock %}
